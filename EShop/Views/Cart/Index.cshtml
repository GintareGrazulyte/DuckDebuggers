@model DOL.Carts.Cart
@{ 
    ViewBag.Title = "Cart";
    var cartItems = Model.Items;
}

<h2>Cart</h2>
<div class="col-xs-1">
    <table class="table">
        <tr>
            <th>
                Name
            </th>
            <th>
                Quantity
            </th>
            <th>
                Price
            </th>
            <th></th>
        </tr>

        @foreach (var cartItem in cartItems)
        {
            decimal price = (cartItem.Item.Price * cartItem.Quantity) / 100.0m;

            <tr>
                <td>
                    @Html.DisplayFor(modelItem => cartItem.Item.Name)
                </td>

                <td>
                    @*@Html.DisplayFor(modelItem => cartItem.Quantity) *@
                    @*@Html.EditorFor(modelItem => cartItem.Quantity, new { htmlAttributes = new { @class = "form-control input-sm" } } ) *@
                    @*@Html.EditorFor(modelItem => cartItem.Quantity, new { onchange = "this.form.submit()"}) *@
                    @*<asp:TextBox id="txt" runat="server" OnTextChanged="txt_OnTextChanged" AutoPostBack="true">
                       textbox1
                    </asp:TextBox> *@
                    @Html.TextBoxFor(modelItem => cartItem.Quantity, new { OnChange = "myFunction()", type = "number", min = "1" })
                </td>
                
                <td>
                    @Html.DisplayFor(modelItem => price) Eur
                </td>
                <td>
                    @Html.ActionLink("Remove", "RemoveFromCart", new { cartItemId = cartItem.Id })
                </td>
            </tr>



        }


        <tr>
            <th>
                Total:
            </th>
            <th></th>
            <td>
                @Model.CountCartPrice()
            </td>
            <th></th>
        </tr>

   </table>
</div>

<script>
    function myFunction() {
        alert("la");
    }
</script>